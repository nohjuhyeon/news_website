{% extends "template.html"%}

{% block main_container %}
<style>
    .notice-title {
        color: #2c3e50;
        font-weight: 600;
        font-size: 0.9rem;
    }
    
    .notice-link {
        color: #1a73e8;
        text-decoration: none;
        transition: color 0.2s;
    }
    
    .notice-link:hover {
        color: #1557b0;
    }
    
    .notice-meta {
        color: #6c757d;
        font-size: 0.85rem;
    }
        
    .content-wrapper {
        background-color: #f8f9fa;
        padding: 1.5rem;
        border-radius: 0.5rem;
        margin: 1rem 0;
    }
    
    .detail-link-btn {
        color: #1a73e8;
        text-decoration: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        transition: background-color 0.2s;
    }
    
    .detail-link-btn:hover {
        background-color: #e8f0fe;
    }
    
    .table th {
        background-color: #f8f9fa;
        font-weight: 600;
    }
    /* ... existing styles ... */
   
    .notice-badge {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        margin-right: 0.5rem;
    }
    
    .notice-badge-ai {
        background-color: #e7f3ff;
        color: #0066cc;
    }
    
    .notice-badge-review {
        background-color: #fff3e0;
        color: #e65100;
    }
    
    /* hover 효과를 추가하고 싶다면 */
    .notice-badge:hover {
        background-color: #d0e8ff;  /* 약간 더 진한 색상 */
        transition: background-color 0.2s ease;
    }
    .search-box {
        position: relative;
        display: flex;
        align-items: center;
        gap: 10px;  /* 요소들 사이 간격 */
    }

    .search-box form {
        display: flex;
        width: 100%;
        gap: 10px;
    }

    .search-input-group {
        display: flex;
        flex: 1;
        position: relative;
    }

    .search-input {
        padding-right: 40px;
    }

    .search-box-icon {
        position: absolute;
        right: 0;
        height: 100%;
        display: flex;
        align-items: center;
        padding: 0 0.75rem;
        border: none;
        background: none;
    }

    .search-box-icon .fa-search {
        transform: rotate(0deg) !important;
        transition: transform 0.2s ease;
    }
    .filter-btn {
        padding: 0.5rem 1rem;
        color: #1a73e8;
        background-color: #fff;
        border: 1px solid #1a73e8;
        border-radius: 4px;
        transition: all 0.2s;
        white-space: nowrap;  
        height: 38px;         
        display: flex;
        align-items: center;
    }
    
    .search-box {
        flex: 1;
    }

    .search-box form {
        display: flex;
        gap: 10px;
        width: 100%;
    }

    .search-input-group {
        display: flex;
        flex: 1;
        position: relative;
    }

    .form-select {
        min-width: 120px;  /* 선택 박스 최소 너비 설정 */
    }
    .modal-lg {
        max-width: 700px;  /* 기본값 800px, 필요시 조정 가능 */
    }
    
    /* 모달 내부 여백 조정 */
    .modal-body {
        padding: 1.5rem 2rem;
    }
    .new-badge {
        color: #ff6666; /* 연한 빨간색 */
        font-weight: bold; /* 글자 굵게 설정 */
        font-size: 0.75rem; /* 글자 크기 작게 유지 */
        margin-left: 3px; /* 요소 간 간격 최소화 */
    }
    .notice-link {
        font-size: 0.75rem; /* 글자 크기를 작게 설정 (12px) */
        color: #1a73e8; /* 파란색으로 설정 */
        text-decoration: underline; /* 밑줄 추가 */
        cursor: pointer; /* 마우스를 올렸을 때 포인터 표시 */
    }

    /* 링크 hover 효과 */
    .notice-link:hover {
        color: #1557b0; /* hover 시 더 진한 파란색 */
        text-decoration: none; /* hover 시 밑줄 제거 */
    }
    
</style>
<div class="row"> <!-- 부모 컨테이너에 row 클래스 추가 -->
    <div class="col mx-n4 px-4 mx-lg-n6 px-lg-6 bg-body-emphasis pt-7 border-y">
        <div class="row align-items-end justify-content-between pb-1 g-3">
            <div class="col-auto">
                <h5 class=""><strong>최근 올라온 입찰 공고</strong></h5>
            </div>
            <div class="col-auto">
                <a class="notice-link m-2" href="/g2b_notice/1">자세히 보기</a>
            </div>
        </div>
        <div class="table-responsive mx-n1 px-1 scrollbar">
            <table class="table table-hover border-top">
                <thead>
                    <tr>
                        <th class="text-center" style="min-width: 60%">공고명</th>
                        <th class="text-center" style="width: 15%">등록일</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in notice_list %}
                    <tr class="hover-actions-trigger" data-bs-toggle="collapse" 
                        data-bs-target="#notice-collapse-{{ loop.index }}" 
                        style="cursor: pointer;">
                        <td>
                            <div class="notice-title mb-1">
                                {% if item.type and item.type.lower() != 'none' %}
                                <span class="notice-badge 
                                    {% if '인공 지능' in item.type %}notice-badge-ai
                                    {% elif '검토' in item.type %}notice-badge-review
                                    {% endif %}">
                                    {{ item.type }}
                                </span>
                                {% endif %}
                                {{ item.title }}
                                {% if item.start_date %}
                                    {% if item.start_date == today or item.start_date == yesterday %}
                                        <span class="new-badge">New!</span>
                                    {% endif %}
                                {% endif %}
                            </div>
                        </td>
                        <td class="text-center">{{ item.start_date if item.start_date else "" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="col mx-n4 px-4 mx-lg-n6 px-lg-6 bg-body-emphasis pt-7 border-y">
        <div class="row align-items-end justify-content-between pb-1 g-3">
            <div class="col-auto">
                <h5><strong>최근 올라온 사전 규격 공고</strong></h5>
            </div>
            <div class="col-auto m-2">
                <a class="notice-link" href="/g2b_notice/1">자세히 보기</a>
            </div>
        </div>
        <div class="table-responsive mx-n1 px-1 scrollbar">
            <table class="table table-hover border-top">
                <thead>
                    <tr>
                        <th class="text-center" style="min-width: 65%">공고명</th>
                        <th class="text-center" style="width: 15%">등록일</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in preparation_list %}
                    <tr class="hover-actions-trigger" data-bs-toggle="collapse" 
                        data-bs-target="#preparation-collapse-{{ loop.index }}" 
                        style="cursor: pointer;">
                        <td>
                            <div class="notice-title mb-1">
                                {% if item.type and item.type.lower() != 'none' %}
                                <span class="notice-badge 
                                    {% if '인공 지능' in item.type %}notice-badge-ai
                                    {% elif '검토' in item.type %}notice-badge-review
                                    {% endif %}">
                                    {{ item.type }}
                                </span>
                                {% endif %}
                                {{ item.title }}
                                {% if item.start_date %}
                                    {% if item.start_date == today or item.start_date == yesterday %}
                                        <span class="new-badge">New!</span>
                                    {% endif %}
                                {% endif %}
                            </div>
                        </td>
                        <td class="text-center">{{ item.start_date if item.start_date else "" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}